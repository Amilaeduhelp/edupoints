<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edu Points</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0fff0; /* Light green background */
            color: #333;
            padding-bottom: 110px; /* Space for the fixed bottom bars */
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        h1 {
            color: #2e8b57; /* Darker green */
            text-align: center;
            margin-bottom: 5px;
        }
        .subtitle {
            color: #3a9c69;
            text-align: center;
            font-size: 16px;
            margin-top: 0;
            margin-bottom: 20px;
            font-style: italic;
        }
        .filter-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .filter-bar select, .filter-bar input[type="text"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            flex-grow: 1;
            min-width: 150px;
        }
        .article-list {
            list-style: none;
            padding: 0;
        }
        .article-item {
            border: 1px solid #ddd;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 6px;
            background-color: #f9f9f9;
        }
        .article-item h2 {
            color: #2e8b57;
            margin-top: 0;
            margin-bottom: 5px;
        }
        .article-item a {
            text-decoration: none;
            color: #007bff;
        }
        .article-item .actions {
            margin-top: 10px;
            display: flex;
        }
        .actions button, .actions a {
            padding: 8px 12px;
            margin-right: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
            flex: 1;
            text-align: center;
            display: inline-block;
            font-size: 14px;
        }
        .actions button.copy-link {
            background-color: #5cb85c; /* Green button */
        }
        .actions a.whatsapp {
            background-color: #25d366; /* WhatsApp green */
        }
        .ad-bar {
            position: fixed;
            bottom: 40px; /* Position above the black bar */
            left: 0;
            width: 100%;
            background-color: #fff;
            padding: 5px 0;
            text-align: center;
            border-top: 1px solid #ddd;
            z-index: 100;
        }
        .ad-bar img {
            max-height: 50px;
        }
        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #000;
            padding: 10px 0;
            text-align: center;
            z-index: 100;
            height: 20px;
            line-height: 20px;
        }
        .bottom-bar a {
            color: #fff;
            text-decoration: none;
            font-weight: bold;
        }
        .article-view {
            padding: 20px;
        }
        .article-navigation {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
        }
        .article-navigation a {
            padding: 10px 15px;
            background-color: #5cb85c;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .no-results {
            text-align: center;
            color: #777;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Edu Points</h1>
        <p class="subtitle">Academic Compass</p>
        <div class="filter-bar">
            <input type="text" id="search-input" placeholder="මාතෘකා සොයන්න">
            <select id="subject-filter">
                <option value="">සියලුම විෂයයන්</option>
                <option value="සිංහල">සිංහල</option>
                <option value="ඉතිහාසය">ඉතිහාසය</option>
                <option value="දේශපාලන විද්‍යාව">දේශපාලන විද්‍යාව</option>
            </select>
            <select id="language-filter">
                <option value="">සියලුම භාෂා</option>
                <option value="සිංහල">සිංහල</option>
                <option value="දෙමළ">දෙමළ</option>
                <option value="ඉංග්‍රීසි">ඉංග්‍රීසි</option>
            </select>
            <select id="age-filter">
                <option value="">සියලුම වයස් කාණ්ඩ</option>
                <option value="6-11">6-11</option>
                <option value="12-16">12-16</option>
                <option value="17+">17න් ඉහළ</option>
            </select>
        </div>
        <ul class="article-list">
        </ul>
    </div>
    
    <div class="ad-bar">
        <img src="https://www.eduhelp.lk/wp-content/uploads/2025/03/Our-ad-01a.gif" alt="Advertisement">
    </div>
    
    <div class="bottom-bar">
        <a href="https://www.eduhelp.lk">www.eduhelp.lk</a>
    </div>

    <script>
        const articlesData = [
            {
                title: "ශ්‍රී ලංකාවේ ප්‍රධාන ගංගා",
                link: 'https://www.eduhelp.lk/index.php/eh_encyclopedia_article/27019/',
                subject: "භූගෝල විද්‍යාව",
                language: "සිංහල",
                ageGroup: "12-16"
            },
            {
                title: "පරිසර පද්ධති",
                link: 'https://www.eduhelp.lk/index.php/eh_encyclopedia_article/27090/',
                subject: "විද්‍යාව",
                language: "සිංහල",
                ageGroup: "12-16"
            },
            {
                title: "ශාක ප්‍රජාව",
                link: 'https://www.eduhelp.lk/index.php/eh_encyclopedia_article/27092/',
                subject: "ජීව විද්‍යාව",
                language: "සිංහල",
                ageGroup: "17+"
            },
            {
                title: "බ්‍රිතාන්‍ය පාලනය",
                link: 'https://www.eduhelp.lk/index.php/eh_encyclopedia_article/27095/',
                subject: "ඉතිහාසය",
                language: "සිංහල",
                ageGroup: "17+"
            },
            {
                title: "ජල චක්‍රය",
                link: 'https://www.eduhelp.lk/index.php/eh_encyclopedia_article/27097/',
                subject: "භූගෝල විද්‍යාව",
                language: "සිංහල",
                ageGroup: "6-11"
            },
            {
                title: "සෛලයේ ව්‍යුහය",
                link: 'https://www.eduhelp.lk/index.php/eh_encyclopedia_article/27099/',
                subject: "ජීව විද්‍යාව",
                language: "සිංහල",
                ageGroup: "12-16"
            }
        ];

        const articleList = document.querySelector('.article-list');
        const searchInput = document.getElementById('search-input');
        const subjectFilter = document.getElementById('subject-filter');
        const languageFilter = document.getElementById('language-filter');
        const ageFilter = document.getElementById('age-filter');

        function displayArticles(articles) {
            articleList.innerHTML = '';
            if (articles.length === 0) {
                articleList.innerHTML = '<li class="no-results">සොයාගත් ලිපි නොමැත.</li>';
                return;
            }
            articles.forEach((article, index, array) => {
                const listItem = document.createElement('li');
                listItem.classList.add('article-item');
                listItem.innerHTML = `
                    <h2><a href="${article.link}">${article.title}</a></h2>
                    <p>විෂයය: ${article.subject} | භාෂාව: ${article.language} | වයස් කාණ්ඩය: ${article.ageGroup}</p>
                    <div class="actions">
                        <button onclick="copyLink('${article.link}')" class="copy-link">Copy Link</button>
                        <a href="whatsapp://send?text=${encodeURIComponent('කියවන්න: ' + article.title + ' - ' + article.link)}" data-action="share/whatsapp/share" class="whatsapp">WhatsApp</a>
                    </div>
                `;
                articleList.appendChild(listItem);
            });
        }

        function filterArticles() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedSubject = subjectFilter.value;
            const selectedLanguage = languageFilter.value;
            const selectedAge = ageFilter.value;

            const filteredArticles = articlesData.filter(article => {
                const titleMatch = article.title.toLowerCase().includes(searchTerm);
                const subjectMatch = selectedSubject === '' || article.subject === selectedSubject;
                const languageMatch = selectedLanguage === '' || article.language === selectedLanguage;
                const ageMatch = selectedAge === '' || article.ageGroup === selectedAge;
                return titleMatch && subjectMatch && languageMatch && ageMatch;
            });

            displayArticles(filteredArticles);
        }

        function copyLink(link) {
            navigator.clipboard.writeText(link).then(() => {
                alert('Link එක පිටපත් කරන ලදී!');
            }).catch(err => {
                console.error('පිටපත් කිරීම අසාර්ථක විය: ', err);
            });
        }

        searchInput.addEventListener('input', filterArticles);
        subjectFilter.addEventListener('change', filterArticles);
        languageFilter.addEventListener('change', filterArticles);
        ageFilter.addEventListener('change', filterArticles);

        // Initial display of articles
        displayArticles(articlesData);
    </script>
</body>
</html>
